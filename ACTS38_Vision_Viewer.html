<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>ACTS38 Vision 2030 Dashboard</title>
  <script src="https://cdn.jsdelivr.net/npm/d3@7"></script>
  <script src="https://cdn.jsdelivr.net/npm/markmap-view@0.14.4"></script>
  <script src="https://cdn.jsdelivr.net/npm/markmap-lib@0.14.4"></script>
  <style>
    body { font-family: 'Malgun Gothic', sans-serif; background-color: #0d1117; color: #ffffff; margin: 0; height: 100vh; display: flex; flex-direction: column; overflow: hidden; }
    #header { padding: 10px 20px; background: #161b22; border-bottom: 1px solid #30363d; display: flex; justify-content: space-between; align-items: center; z-index: 100; }
    h1 { margin: 0; color: #58a6ff; font-size: 18px; font-weight: normal; }
    #mindmap-container { flex: 1; width: 100%; height: 100%; position: relative; }
    #mindmap { width: 100%; height: 100%; }

    /* ê¸°ë³¸ ì„¤ì •: í°ìƒ‰, 6px, ë³¼ë“œ ì œê±° */
    .markmap div { 
      font-size: 6px !important; 
      color: #ffffff !important; 
      font-weight: normal !important;
      padding: 0 !important;
      margin: 0 !important;
      /* í•œ ì¤„ ìœ ì§€ ë° ë°‘ì¤„ ê¸¸ì´ ì¼ì¹˜ */
      white-space: nowrap !important; 
      display: inline-block !important; 
      padding-bottom: 7px !important; /* í…ìŠ¤íŠ¸-ë°‘ì¤„ ê°„ê²© 7px */
      cursor: pointer;
    }

    /* ìˆ˜ë‹¬ëŒ€í‘œì˜ íŒë‹¨ì— ì˜í•œ ì™„ë£Œ ìƒíƒœ(ë…¸ë€ìƒ‰) */
    .completed { color: #ffea00 !important; }

    .markmap-link { stroke: #444c56; stroke-width: 1px; }
    .markmap-node-circle { fill: #58a6ff; r: 1.5px; }
  </style>
</head>
<body>
  <div id="header">
    <h1>ğŸš€ ACTS38 Vision 2030 Master Plan</h1>
    <div style="font-size: 11px; color: #8b949e;">v4.2 | User-Driven Decision System</div>
  </div>
  <div id="mindmap-container">
    <svg id="mindmap"></svg>
  </div>

  <script>
    const markdown = `
# ACTS38 Vision 2030
## ì¡°ì§ ë° ì¸ë ¥
- â–  ìˆ˜ë‹¬ (ìµœê³ ì˜ì‚¬ê²°ì •ê¶Œì)
- â–  ë§Œë‘ (ì „ëµê¸°íšì‹¤ì¥ CSO)
- â–  ëœë„ (ìˆ˜ì„ë³´ì¢Œê´€ CTO)
## ë§Œë‘ ì‹¤ì¥ì˜ ì—…ë¬´ ì›ì¹™
- â–  ë¸Œëœë“œ ì„¸ê³„ê´€ ìˆ˜í˜¸ (ê³µì‹ ëª…ì¹­ ì—„ìˆ˜)
- â–  ë¼ì´í”„ì‚¬ì´í´ ì ìœ  (ë°”ë””/ìŠ¤í‚¨/í–¥ìˆ˜ ì‹œë„ˆì§€)
- â–  ì›ë£Œ ì¤‘ì‹¬ ì˜ì‚¬ê²°ì • (ê¸°ìˆ  ê¶Œë ¥ í™•ë³´)
- â–  ì„±ê³¼ì£¼ì˜ ê¸°ê°• (ìƒë²Œ ì²´ê³„ í™•ë¦½)
## í•µì‹¬ ì „ëµ ê¸°ë‘¥
### 1. ì›ë£Œì˜ ê¶Œë ¥í™”
- â–¡ Global Standard êµ¬ì¶• (K-ì•½ì „ ë“±ë¡)
- â–¡ ACTS38 Inside ì¸ì¦ ì²´ê³„ ìˆ˜ë¦½
- â–  ë…ì  ì›ë£Œ ê³µê¸‰ë§ ì§€ë°°ë ¥ í™•ë³´
### 2. ì²´í—˜í˜• ì˜¤í”„ë¼ì¸ ìœ í†µ
- â–¡ ACTS38 Care Studio ì „êµ­ í™•ì‚°
- â–¡ ì „ì§€í›ˆë ¨ ê±°ì  ë„ì‹œ ì ë ¹ (ì§„ì£¼/ë‚¨í•´/ì œì£¼ ë“±)
- â–¡ í˜„ì¥ ì „ë¬¸ê°€ ì¼€ì–´ ì‹œìŠ¤í…œ êµ¬ì¶•
### 3. 3ëŒ€ ì œí’ˆ ë¼ì¸ì—…
- â–¡ ë°”ë””ì¼€ì–´: Gelë¼ì¸(Miracle Gel, Boswellia Gel, í¸ì•ˆí•œê²”), MicroNid
- â–¡ ìŠ¤í‚¨ì¼€ì–´: ê³ ê¸°ëŠ¥ì„± ë”ë§ˆ
- â–¡ í–¥ìˆ˜: í…Œë¼í”¼ ì‹œê·¸ë‹ˆì²˜
## ì‹œìŠ¤í…œ ë° ë°ì´í„°
- â–  ìë™ ë°±ì—…: 99_Back_Up (ìš´ì˜ ì¤‘)
- â–¡ ë°ì´í„° ìì‚°í™”: ê³ ê° ì‹ ì²´ ë°ì´í„° êµ¬ì¶•
- â–  ë²„ì „ ê´€ë¦¬: v4.2 ì ìš©
    `;

    window.onload = () => {
      try {
        const { Markmap, Transformer } = window.markmap;
        const transformer = new Transformer();
        const { root } = transformer.transform(markdown);
        
        const mm = Markmap.create('#mindmap', {
          zoom: true,
          pan: true,
          duration: 0,
          initialExpandLevel: 2
        }, root);

        const refreshNodes = () => {
          document.querySelectorAll('.markmap div').forEach(el => {
            // í…ìŠ¤íŠ¸ ë‚´ìš©ì— ë”°ë¥¸ ì´ˆê¸° ìŠ¤íƒ€ì¼ë§
            if (el.textContent.includes('â– ')) {
              el.classList.add('completed');
            } else {
              el.classList.remove('completed');
            }

            // í´ë¦­ ì´ë²¤íŠ¸: ìˆ˜ë‹¬ëŒ€í‘œì˜ íŒë‹¨ì„ ì‹œìŠ¤í…œì— ë°˜ì˜
            if (!el.dataset.handled) {
              el.onclick = (e) => {
                e.stopPropagation();
                if (el.textContent.includes('â–¡')) {
                  el.textContent = el.textContent.replace('â–¡', 'â– ');
                } else if (el.textContent.includes('â– ')) {
                  el.textContent = el.textContent.replace('â– ', 'â–¡');
                }
                // í´ë¦­ ì§í›„ ì¦‰ì‹œ í´ë˜ìŠ¤ ê°±ì‹ ì€ setIntervalì—ì„œ ì²˜ë¦¬ë¨
              };
              el.dataset.handled = "true";
            }
          });
        };

        setInterval(refreshNodes, 300);
        
      } catch (err) {
        console.error("ì‹¤í–‰ ì˜¤ë¥˜ ë³´ê³ :", err);
      }
    };
  </script>
</body>
</html>